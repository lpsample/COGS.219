"0","targetP3b <- eeg.data %>%"
"0","  filter(electrode %in% c(54, 55, 79, 78, 61, 62)) %>%"
"0","  group_by(subject, lag.condition, t, distractor.condition) %>%"
"0","  summarize(M.voltage = mean(voltage)) %>%"
"0","  ungroup()"
"0",""
"0","#create lag8 only file"
"0","targetP3b.lag8 <- targetP3b %>%"
"0","  filter(lag.condition == ""Lag8"") %>%"
"0","  mutate(lag8.voltage = M.voltage) %>%"
"0","  select(subject, t, lag8.voltage, distractor.condition)"
"0","#create lag2 only file"
"0","targetP3b.lag2 <- targetP3b %>%"
"0","  filter(lag.condition == ""Lag2"") %>%"
"0","  mutate(lag2.voltage = M.voltage) %>%"
"0","  select(subject, t, lag2.voltage, distractor.condition)"
"0",""
"0","#join and do difference"
"0","targetP3b.difference <- targetP3b.lag2 %>%"
"0","  inner_join(targetP3b.lag8) %>%"
"0","  mutate(difference.wave = lag2.voltage - lag8.voltage) %>%"
"0","  select(subject, t, distractor.condition, difference.wave)"
"0",""
"0","#ggplot info"
"0","targetP3b.difference.summary <- targetP3b.difference %>%"
"0","  group_by(t, distractor.condition) %>%"
"0","  summarize(M = mean(difference.wave), SE = sd(difference.wave) / sqrt(n()))"
"0",""
"0","ggplot(targetP3b.difference.summary, aes(x=t, y=M, ymin=M-SE, ymax=M+SE))+"
"0","  geom_ribbon(aes(fill=distractor.condition), alpha=0.3)+"
"0","  geom_line(aes(color=distractor.condition), size=1)+"
"0","  annotate(""rect"", fill=""yellow"", alpha=0.1, xmin=635, xmax = 995,ymin = -3, ymax=3) +"
"0","  labs(title= ""Target Response (P3b)"", x=""Time (ms)"", y = ""Amplitude (ÂµV)"", color = ""Distractor Type"")+"
"0","  geom_vline(xintercept = 0) +"
"0","  geom_vline(xintercept = 200) + "
"0","   annotate(""text"", x = -35, y = 1, label = ""Distractor Onset"",angle = 90)+"
"0","  annotate(""text"", x = 160, y = 1, label = ""Lag2 Target Onset"", angle = 90)+"
"0","  annotate(""text"", x = 750, y = -2.5, label = ""Lag2 Target P3b"")+"
"0","  scale_y_reverse()+"
"0","  scale_fill_discrete(guide=FALSE)+"
"0","  theme_bw()"
