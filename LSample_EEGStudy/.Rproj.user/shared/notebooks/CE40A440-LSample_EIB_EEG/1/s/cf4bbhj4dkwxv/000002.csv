"0","#get electrodes we care about, "
"0","lag8.n2 <- eeg.data %>%"
"0","  filter(electrode %in% c(64, 68, 69, 89, 94, 95)) %>%"
"0","  mutate(hemisphere=if_else (electrode %in% c(89, 94, 95), ""right"", ""left""))%>%"
"0","  filter(lag.condition == ""Lag8"") %>%"
"0","  group_by(subject, hemisphere, t, distractor.condition) %>%"
"0","  summarize(M.voltage = mean(voltage)) "
"0","#create baseline only file"
"0","lag8.n2.baseline <- lag8.n2 %>%"
"0","  filter(distractor.condition == ""Baseline"") %>%"
"0","  mutate(baseline.voltage = M.voltage) %>%"
"0","  select(subject, t, hemisphere, baseline.voltage)"
"0","#add in baseline col, find difference, dump cols we dont need"
"0","lag8.n2.difference <- lag8.n2 %>%"
"0","  inner_join(lag8.n2.baseline) %>%"
"0","  mutate(difference.wave = M.voltage - baseline.voltage) %>%"
"0","  select(subject, hemisphere, t, distractor.condition, difference.wave)"
"0",""
"0","#ggplot info"
"0","lag8.n2.difference.summary <- lag8.n2.difference %>%"
"0","  group_by(t, distractor.condition) %>%"
"0","  summarize(M = mean(difference.wave), SE = sd(difference.wave) / sqrt(n()))"
"0",""
"0","ggplot(lag8.n2.difference.summary, aes(x=t, y=M, ymin=M-SE, ymax=M+SE))+"
"0","  geom_ribbon(aes(fill=distractor.condition), alpha=0.3)+"
"0","  geom_line(aes(color=distractor.condition), size=1)+"
"0","  annotate(""rect"", fill=""yellow"", alpha=0.1, xmin=185, xmax = 275,ymin = -2, ymax=2) +"
"0","   labs(title = ""Distractor Response (N2)"", x=""Time (ms)"", y = ""Amplitude (ÂµV)"", color = ""Distractor Type"")+"
"0","  annotate(""text"", x = -40, y = 1, label = ""Distractor Onset"", angle = 90)+"
"0","  annotate(""text"", x = 225, y = -2, label = ""Distractor N2"")+"
"0","  geom_vline(xintercept = 0) +"
"0","  scale_fill_discrete(guide=FALSE)+"
"0","  scale_y_reverse()+"
"0","  theme_bw()"
