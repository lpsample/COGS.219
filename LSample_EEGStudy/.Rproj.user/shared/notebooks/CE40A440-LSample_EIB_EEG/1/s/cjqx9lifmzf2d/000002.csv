"0","#get electrodes we care about, "
"0","lag2.n2 <- eeg.data %>%"
"0","  filter(electrode %in% c(64, 68, 69, 89, 94, 95)) %>%"
"0","  mutate(hemisphere=if_else (electrode %in% c(89, 94, 95), ""right"", ""left""))%>%"
"0","  group_by(subject, lag.condition, hemisphere, t, distractor.condition) %>%"
"0","  summarize(M.voltage = mean(voltage)) %>%"
"0","  ungroup()"
"0",""
"0","#create lag8 only file"
"0","lag2.n2.lag8 <- lag2.n2 %>%"
"0","  filter(lag.condition == ""Lag8"") %>%"
"0","  mutate(lag8.voltage = M.voltage) %>%"
"0","  select(subject, t, hemisphere, lag8.voltage, distractor.condition)"
"0","#create lag2 only file"
"0","lag2.n2.lag2 <- lag2.n2 %>%"
"0","  filter(lag.condition == ""Lag2"") %>%"
"0","  mutate(lag2.voltage = M.voltage) %>%"
"0","  select(subject, t, hemisphere, lag2.voltage, distractor.condition)"
"0",""
"0","#join and do difference"
"0","lag2.n2.difference <- lag2.n2.lag2 %>%"
"0","  inner_join(lag2.n2.lag8) %>%"
"0","  mutate(difference.wave = lag2.voltage - lag8.voltage) %>%"
"0","  select(subject, hemisphere, t, distractor.condition, difference.wave)"
"0",""
"0","#ggplot info"
"0","lag2.n2.difference.summary <- lag2.n2.difference %>%"
"0","  group_by(t, distractor.condition) %>%"
"0","  summarize(M = mean(difference.wave), SE = sd(difference.wave) / sqrt(n()))"
"0",""
"0","ggplot(lag2.n2.difference.summary, aes(x=t, y=M, ymin=M-SE, ymax=M+SE))+"
"0","  geom_ribbon(aes(fill=distractor.condition), alpha=0.3)+"
"0","  geom_line(aes(color=distractor.condition), size=1)+"
"0","  annotate(""rect"", fill=""yellow"", alpha=0.1, xmin=405, xmax = 585,ymin = -3, ymax=3) +"
"0","  labs(title = ""Target Response (N2)"",x=""Time (ms)"", y = ""Amplitude (ÂµV)"", color = ""Distractor Type"", ""rect"" = ""Lag-2 Target N2"")+"
"0","  geom_vline(xintercept = 0) +"
"0","  geom_vline(xintercept = 200) +"
"0","  annotate(""text"", x = -35, y = -2, label = ""Distractor Onset"",angle = 90)+"
"0","  annotate(""text"", x = 160, y = 2.5, label = ""Lag2 Target Onset"", angle = 90)+"
"0","  annotate(""text"", x = 500, y = 1.25, label = ""Lag2 Target N2"", angle = 90)+"
"0","  scale_y_reverse()+"
"0","  scale_fill_discrete(guide=FALSE)+"
"0","  theme_bw()"
